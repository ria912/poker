# Texas Hold'em Web Poker Practice App

このアプリは、**学習・練習用途に最適なシングルプレイヤー向けポーカーアプリ**です。Flask + Python をベースに構築されており、**AIプレイヤーとの対戦**を通じて、プレイ経験を効率的に積むことができます。将来的には、**オンライン対戦**や**AI強化学習**の拡張も視野に入れた設計です。

## 構成詳細

### 1. メインアプリ
- **`app.py`**
  - Flaskアプリケーションのエントリーポイント
  - ルーティング、セッション管理、ゲーム進行のトリガー
  - UIとゲームロジックを橋渡し

### 2. ゲーム進行ロジック
- **`poker_engine.py`**
  - ゲーム全体の状態管理
  - アクション受付、フェーズ進行（プリフロップ〜ショーダウン）
  - AI・プレイヤー間のインタラクション管理

- **`round_manager.py`**
  - 各ベッティングラウンドのターン制管理
  - プレイヤー順、行動完了チェック
  - 最終アクション後の進行制御

### 3. モデル（`models/` ディレクトリ）
- **`player.py`**  
  - `Player` クラス（人間・CPU共通）  
  - hand（手札）、stack（チップ）、position（ポジション）、fold状態などを管理

- **`ai_player.py`**  
  - テスト用AIのアクションロジック  
  - `legal_actions` から **チェック or コールのみ選択**

- **`card.py`**  
  - デッキとカードの操作（シャッフル、配布）

- **`table.py`**  
  - `Table` クラス  
  - プレイヤー管理、ポット、コミュニティカード、ブラインド支払い、ポジションローテーションなど

- **`position.py`**  
  - プレイヤーのポジション割当て  
  - `rotate_players()` でディーラーを1つずつ回す

- **`action.py`**  
  - アクションの合法性チェック (`legal_actions`)  
  - 実行時のスタック/ポット更新

- **`round_manager.py`**  
  - 各ラウンドのターン管理、アクションフロー制御

### 4. テンプレート / 静的ファイル
- **`templates/`**（HTML）
  - `index.html`: ホーム画面
  - `game.html`: ゲームプレイ画面（カード・スタック・アクションボタン表示）

- **`static/`**（Tailwind CSS, JavaScript, カード画像など）

### 5. テスト（単体テスト）
- **`tests/`**
  - `test_player.py`
  - `test_table.py`
  - `test_poker_engine.py`
  - `pytest` で実行可能なユニットテスト
  - プレイヤー管理、ポジション処理、ラウンド進行の検証を行う

## 実行方法
1. 依存ライブラリをインストール  
   ```
   pip install -r requirements.txt
   ```

2. アプリを起動  
   ```
   python app.py
   ```

3. ブラウザでアクセス  
   ```
   http://localhost:5000
   ```

## 今後の予定
- ✅ **AIキャラの個性化（LAG, TAG, ニットなど）**
- ✅ **プレイヤー vs CPU（5名）構成の導入**
- ⏳ **プレイ履歴の保存（ログファイル or DB）**
- ⏳ **マルチプレイヤー対応（WebSocket / SocketIO）**
- ⏳ **AI強化学習との統合（将来的に）**
